<div ng-controller="VAAController">
<div class="page-bar" ng-if="filterButtons.length>0">
    <ul class="page-breadcrumb" data-ng-repeat="filter in filterButtons">
        <li>
			<div class="custom-alerts alert alert-success fade in" style="margin:0;padding:5px"><button aria-hidden="true" data-dismiss="alert" class="close" type="button" style="padding-top: 5px; margin-top: 4px; margin-left: 5px;" ng-click="updateFilter(filter.id,true)"></button> {{filter.value}}</div>
        </li>
    </ul>
    <ul class="page-breadcrumb" >
        <li>
    		<div ng-click="reset()" class="btn btn-primary previousBtn" style="padding: 5px;" ><i class="fa fa-refresh"></i> Reset </div>
    	</li>
    </ul>
</div>
<div class="row">
	<div class="col-md-3" >
		<div class = "row">
			<div class="portlet light bordered " style="padding: 5px; min-height: 25px;">
			<div class="actions">
                        <div  class="btn-group btn-group-devided">
                            <label id = "active" class="btn dark btn-outline btn-circle btn-sm active"
                             btn-radio="'active'" ng-change="changeQueryType()" ng-model="queryType"
                             ng-class="{overall:'', active:'bg-green', '':'disable'}[queryType]"
                            >
                            	Active    
                            </label>
                            <label id = "overall" class="btn dark btn-outline btn-circle btn-sm"
                            btn-radio="'overall'" ng-change="changeQueryType()" ng-model="queryType"
                            ng-class="{overall:'bg-green', active:'', '':''}[queryType]"
                            >
                                Overall
                            </label>
                            
                        </div>
                    </div>
                <!--<div class="portlet-title" style="padding-right: 5px; padding-bottom: 5px; padding-left: 5px;">
                <i class="icon-settings font-green"></i>
                        <span class="caption-subject font-green bold uppercase">FILTERS</span>
                 </div>
                -->
	            <div class="portlet-body" style="padding: 5px;">
	            <h4 class="block" style="padding: 0px; margin: 1px;">Top Jobs</h4>
	            	<div class="list-group">

	            			<a ng-cloak class="list-group-item bg-green-turquoise font-sm" data-ng-repeat="cnt in jobs" ng-click="clickJobs(cnt.field)" style="padding:5px;" title={{cnt.field}}>
	                                        {{cnt.field |limitTo:25}}
	                                            <span class="badge badge-danger"> {{cnt.count}}</span>
	                                        
	                        </a>
	                
	            	
	            
	            <h4 class="block" style="padding: 0px; margin: 1px;">Top Employer</h4>
	            	<div class="list-group">

	            			<a class="list-group-item bg-green-turquoise" data-ng-repeat="cnt in employers" ng-click="clickEmply(cnt.field)" style="padding:5px;" title={{cnt.field}}>
	                                        {{cnt.field|limitTo:25}}
	                                            <span class="badge badge-danger"> {{cnt.count}}</span>
	                                        
	                        </a>
	                </div>
	              
	            	
	            </div>
	            <h4 class="block" style="padding: 0px; margin: 1px;">Visa Types</h4>
	            	<div class="list-group">

	            			<a class="list-group-item bg-green-turquoise" data-ng-repeat="cnt in visas" ng-click="clickVisa(cnt.field)" style="padding:5px;" >
	                                        {{cnt.field}}
	                                            <span class="badge badge-danger"> {{cnt.count}}</span>
	                                        
	                        </a>
	                </div>
	              
	            	
	            </div>
	        </div>
		</div>
	</div>
	<div class="col-md-9">
		<div class = "row">
			<div class="portlet light bordered ">
                <div class="portlet-title tabbable-line">
                    <div class="caption caption-md">
                        <i class="icon-settings font-green"></i>
                        <span class="caption-subject font-green bold uppercase">Distribution</span>
                        <span class="caption-helper hide">Applications by country</span>
                    </div>
                    <ul class="nav nav-tabs">
                                        <li class="active">
                                            <a data-target="#overal_analysis" 
                                               data-id='overall' 
                                               class="active" 
                                               ng-click="changeAnalysis('overall')"
                                               data-toggle="tab"> Overall Analysis </a>
                                        </li>
                                        <li>
                                            <a data-target="#timeline_analysis"
                                            	id = "time"
                                               ng-model="analysisType" 
                                               ng-click="changeAnalysis('timeline')"
                                             data-toggle="tab"> Timeline Analysis</a>
                                        </li>
                                    </ul>
                    
                </div>
                <div class="portlet-body">
                	<div class="tab-content">
                        <div class="tab-pane active" id="overal_analysis">
			                <div class = "row">
								<datamap
							  		map="mapObject"
							  		on-click="updateActiveGeography"
							  		plugins="mapPlugins"
							  		
							  		>
								</datamap>
							</div>
							<div class="row">
								<div class="col-md-4">
									<div id="highchart_pie"></div>
								</div>
								<div class="col-md-8">
									<div id="highchart_col"></div>
								</div>
								
							</div>
						</div>
						<div class="tab-pane active" id="timeline_analysis">
							<div id="highchart_timeline"></div>
						</div>
					</div>
				
				</div>
			
		</div>
	</div>

</div>	
</div>

